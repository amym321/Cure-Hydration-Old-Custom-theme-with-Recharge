{% schema %}
  {
    "name": "Hero Carousel",
    "class": "carousel",
  "max_blocks": 15,
    "settings": [
      {
        "type": "header",
        "content": "General"
      },
    {
        "type": "checkbox",
        "id": "full_width",
        "label": "Full width?",
        "default": true
      },
    {
        "type": "checkbox",
        "id": "full_height",
        "label": "Full height?",
        "default": true
      },
    {
        "type": "text",
        "id": "img_height",
        "label": "Height (if not full)",
        "default": "45%"
      },
    {
        "type": "select",
        "id": "fade",
        "label": "Effect",
        "options": [
          {"value": "false","label": "Slide"},
          {"value": "true","label": "Fade in\/out"}
        ],
        "default": "true"
      },
    {
        "type": "header",
        "content": "Arrows"
      },
    {
        "type": "checkbox",
        "id": "show_arrows",
        "label": "Show arrows?",
        "default": true
      },
      {
        "type": "color",
        "id": "arrow_color",
        "label": "Arrow color",
        "default": "#ffffff"
      },
      {
        "type": "color",
        "id": "arrow_hover_color",
        "label": "Arrow color on hover",
        "default": "#0089ff"
      },
      {
        "type": "header",
        "content": "Dots"
      },
      {
        "type": "checkbox",
        "id": "show_dots",
        "label": "Show dots?",
        "default": true
      },
      {
        "type": "color",
        "id": "dots_color",
        "label": "Dots color",
        "default": "#ffffff"
      },
      {
        "type": "color",
        "id": "dots_active_color",
        "label": "Active dot color",
        "default": "#0089ff"
      },
      {
        "type": "header",
        "content": "Autoplay & Speed"
      },
      {
        "type": "checkbox",
        "id": "autoplay",
        "label": "Autoplay",
        "default": true
      },
      {
        "type": "range",
        "id": "autoplay_speed",
        "label": "Autoplay Speed",
        "info": "Time until the slide changes.",
        "min": 1000,
        "max": 9000,
        "step": 1000,
        "unit": "ms",
        "default": 5000
      },
      {
        "type": "range",
        "id": "transition_speed",
        "label": "Transition Speed",
        "info": "The lower the number, the higher the speed.",
        "min": 100,
        "max": 2500,
        "step": 100,
        "unit": "ms",
        "default": 1000
      }
    ],
    "blocks": [
      {
        "type": "slide",
        "name": "Slide",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Desktop Background Image"
          },
          {
            "type": "image_picker",
            "id": "image_sm",
            "label": "Mobile Background Image",
            "info": "Leave blank to use the desktop one."
          },
          {
            "type": "url",
            "id": "link",
            "label": "Link",
            "info": "Optional"
          },
          {
            "type": "checkbox",
            "id": "show_captions",
            "label": "Show captions?",
            "default": true
          },
      {
            "type": "select",
            "id": "text_align",
            "label": "Text Alignment",
            "options": [
              {"value": "left", "label": "Left"},
        {"value": "center", "label": "Center"},
        {"value": "right", "label": "Right"}
            ],
            "default": "center"
          },
      {
            "type": "text",
            "id": "overlay_color",
            "label": "Background color (r,g,b,a)",
            "default": "0,0,0,0.5",
      "info": "0,0,0,0 for no background"
          },
          {
            "type": "color",
            "id": "text_color",
            "label": "Text Color",
      "default": "#ffffff"
          },
          {
            "type": "text",
            "id": "title",
            "label": "Title",
      "default": "This is a Slide"
          },
      
      {
            "type": "select",
            "id": "title_font",
            "label": "Title font",
            "options": [
              {
                "value": "GT Pressura Mono",
                "label": "GT Pressura Mono",
                "group": "Custom Font"
              },
              {
                "value": "Sofia Pro",
                "label": "Sofia Pro",
                "group": "Custom Font"
              },
              {
                "value": "'Century Gothic', Helvetica, Arial, sans-serif",
                "label": "Century Gothic",
                "group": "Sans-serif"
              },
              {
                "value": "Helvetica, Arial, sans-serif",
                "label": "Helvetica\/Arial",
                "group": "Sans-serif"
              },
              {
                "value": "Impact, Charcoal, Helvetica, Arial, sans-serif",
                "label": "Impact",
                "group": "Sans-serif"
              },
              {
                "value": "Trebuchet MS, sans-serif",
                "label": "Trebuchet MS",
                "group": "Sans-serif"
              },
              {
                "value": "Verdana, Helvetica, Arial, sans-serif",
                "label": "Verdana",
                "group": "Sans-serif"
              },
              {
                "value": "Garamond, Baskerville, Caslon, serif",
                "label": "Garamond",
                "group": "Serif"
              },
              {
                "value": "Georgia, Utopia, 'Times New Roman', Times, serif",
                "label": "Georgia",
                "group": "Serif"
              },
              {
                "value": "'Times New Roman', Times, serif",
                "label": "Times New Roman",
                "group": "Serif"
              },
              {
                "value": "'Courier New', Courier, monospace",
                "label": "Courier New",
                "group": "Monospace"
              },
              {
                "value": "Monaco, 'Lucida Console', 'DejaVu Sans Mono'",
                "label": "Monaco\/Lucida Console",
                "group": "Monospace"
              },
              {
                "value": "'Bitter', serif",
                "label": "Bitter",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Crete Round', serif",
                "label": "Crete Round",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Droid Serif', serif",
                "label": "Droid Serif",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Playfair Display', serif",
                "label": "Playfair Display",
                "group": "Google Web Fonts"
              },
              {
                "value": "'PT Serif', serif",
                "label": "PT Serif",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Lato', sans-serif",
                "label": "Lato",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Lobster Two', cursive",
                "label": "Lobster Two",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Open Sans', sans-serif",
                "label": "Open Sans",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Open Sans Condensed', sans-serif",
                "label": "Open Sans Condensed",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Oswald', sans-serif",
                "label": "Oswald",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Quicksand', sans-serif",
                "label": "Quicksand",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Source Sans Pro', sans-serif",
                "label": "Source Sans Pro",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Raleway', sans-serif",
                "label": "Raleway",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Roboto', sans-serif",
                "label": "Roboto",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Roboto Condensed', sans-serif",
                "label": "Roboto Condensed",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Roboto Slab', sans-serif",
                "label": "Roboto Slab",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Work Sans', sans-serif",
                "label": "Work Sans",
                "group": "Google Web Fonts"
              }
            ],
            "default": "Sofia Pro"
          },
          {
            "type": "select",
            "id": "title_font_weight",
            "label": "Title Font Weight",
            "options": [
              {
                "value": "100",
                "label": "Extra Light"
              },
              {
                "value": "300",
                "label": "Light"
              },
              {
                "value": "400",
                "label": "Regular"
              },
              {
                "value": "600",
                "label": "Semi Bold"
              },
              {
                "value": "700",
                "label": "Bold"
              },
              {
                "value": "900",
                "label": "Extra Bold"
              }
            ],
            "default": "700"
          },
          {
            "type": "select",
            "id": "title_font_style",
            "label": "Title Font Style",
            "options": [
              {
                "value": "normal",
                "label": "Normal"
              },
              {
                "value": "italic",
                "label": "Italic"
              }
            ],
            "default": "normal"
          },
          {
            "type": "text",
            "id": "title_font_size",
            "label": "Title Font Size",
            "default": "2.5em"
          },

      {
            "type": "richtext",
            "id": "text",
            "label": "Description",
      "default": "<p>Lorem ipsum dolor sit amet, consectur adipiscing elit. Nunc eu eros augue. Cras tempus finibus mi, at aliquet orci vestibulum sit amet.</p>"
          },

      {
            "type": "select",
            "id": "text_font",
            "label": "Description font",
            "options": [
              {
                "value": "GT Pressura Mono",
                "label": "GT Pressura Mono",
                "group": "Custom Font"
              },
              {
                "value": "Sofia Pro",
                "label": "Sofia Pro",
                "group": "Custom Font"
              },
              {
                "value": "'Century Gothic', Helvetica, Arial, sans-serif",
                "label": "Century Gothic",
                "group": "Sans-serif"
              },
              {
                "value": "Helvetica, Arial, sans-serif",
                "label": "Helvetica\/Arial",
                "group": "Sans-serif"
              },
              {
                "value": "Impact, Charcoal, Helvetica, Arial, sans-serif",
                "label": "Impact",
                "group": "Sans-serif"
              },
              {
                "value": "Trebuchet MS, sans-serif",
                "label": "Trebuchet MS",
                "group": "Sans-serif"
              },
              {
                "value": "Verdana, Helvetica, Arial, sans-serif",
                "label": "Verdana",
                "group": "Sans-serif"
              },
              {
                "value": "Garamond, Baskerville, Caslon, serif",
                "label": "Garamond",
                "group": "Serif"
              },
              {
                "value": "Georgia, Utopia, 'Times New Roman', Times, serif",
                "label": "Georgia",
                "group": "Serif"
              },
              {
                "value": "'Times New Roman', Times, serif",
                "label": "Times New Roman",
                "group": "Serif"
              },
              {
                "value": "'Courier New', Courier, monospace",
                "label": "Courier New",
                "group": "Monospace"
              },
              {
                "value": "Monaco, 'Lucida Console', 'DejaVu Sans Mono'",
                "label": "Monaco\/Lucida Console",
                "group": "Monospace"
              },
              {
                "value": "'Bitter', serif",
                "label": "Bitter",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Crete Round', serif",
                "label": "Crete Round",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Droid Serif', serif",
                "label": "Droid Serif",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Playfair Display', serif",
                "label": "Playfair Display",
                "group": "Google Web Fonts"
              },
              {
                "value": "'PT Serif', serif",
                "label": "PT Serif",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Lato', sans-serif",
                "label": "Lato",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Lobster Two', cursive",
                "label": "Lobster Two",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Open Sans', sans-serif",
                "label": "Open Sans",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Open Sans Condensed', sans-serif",
                "label": "Open Sans Condensed",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Oswald', sans-serif",
                "label": "Oswald",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Quicksand', sans-serif",
                "label": "Quicksand",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Source Sans Pro', sans-serif",
                "label": "Source Sans Pro",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Raleway', sans-serif",
                "label": "Raleway",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Roboto', sans-serif",
                "label": "Roboto",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Roboto Condensed', sans-serif",
                "label": "Roboto Condensed",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Roboto Slab', sans-serif",
                "label": "Roboto Slab",
                "group": "Google Web Fonts"
              },
              {
                "value": "'Work Sans', sans-serif",
                "label": "Work Sans",
                "group": "Google Web Fonts"
              }
            ],
            "default": "Sofia Pro"
          },
          {
            "type": "select",
            "id": "text_font_weight",
            "label": "Description Font Weight",
            "options": [
              {
                "value": "100",
                "label": "Extra Light"
              },
              {
                "value": "300",
                "label": "Light"
              },
              {
                "value": "400",
                "label": "Regular"
              },
              {
                "value": "600",
                "label": "Semi Bold"
              },
              {
                "value": "700",
                "label": "Bold"
              },
              {
                "value": "900",
                "label": "Extra Bold"
              }
            ],
            "default": "700"
          },
          {
            "type": "select",
            "id": "text_font_style",
            "label": "Description Font Style",
            "options": [
              {
                "value": "normal",
                "label": "Normal"
              },
              {
                "value": "italic",
                "label": "Italic"
              }
            ],
            "default": "normal"
          },
          {
            "type": "text",
            "id": "text_font_size",
            "label": "Description Font Size",
            "default": "40px"
          },

      {
            "type": "text",
            "id": "button",
            "label": "Button",
      "default": "Button"
          },
      {
            "type": "header",
            "content": "Featured Image"
          },
      {
            "type": "image_picker",
            "id": "featured_image",
            "label": "Image"
          },
      {
            "type": "text",
            "id": "featured_image_width",
            "label": "Width",
            "default": "25%"
          },
      {
            "type": "text",
            "id": "featured_image_right",
            "label": "Right Coordinates",
            "default": "10%"
          },
      {
            "type": "text",
            "id": "featured_image_left",
            "label": "Left Coordinates",
            "default": "auto"
          },
      {
            "type": "select",
            "id": "featured_image_position",
            "label": "Alignment",
            "options": [
              {"value": "center top", "label": "Top"},
        {"value": "center", "label": "Center"},
        {"value": "center bottom", "label": "Bottom"}
            ],
            "default": "center"
          },
      {
            "type": "header",
            "content": "Effects"
          },
      {
            "type": "select",
            "id": "title_effect",
            "label": "Title Effect",
            "options": [
              {"value": "fadeIn",     "label": "fadeIn"},
        {"value": "fadeInDown",   "label": "fadeInDown"},
        {"value": "fadeInLeft",   "label": "fadeInLeft"},
        {"value": "fadeInRight",  "label": "fadeInRight"},
        {"value": "fadeInUp",   "label": "fadeInUp"},
        {"value": "bounceIn",   "label": "bounceIn"},
        {"value": "bounceInDown", "label": "bounceInDown"},
        {"value": "bounceInLeft", "label": "bounceInLeft"},
        {"value": "bounceInRight","label": "bounceInRight"},
        {"value": "bounceInUp",   "label": "bounceInUp"},
          {"value": "flipInX",    "label": "flipInX"},
        {"value": "flipInY",    "label": "flipInY"},
        {"value": "zoomIn",     "label": "zoomIn"},
        {"value": "zoomInDown",   "label": "zoomInDown"},
        {"value": "zoomInLeft",   "label": "zoomInLeft"},
        {"value": "zoomInRight",  "label": "zoomInRight"},
        {"value": "zoomInUp",   "label": "zoomInUp"}
            ],
            "default": "fadeInUp"
          },
      {
            "type": "select",
            "id": "text_effect",
            "label": "Description Effect",
            "options": [
              {"value": "fadeIn",     "label": "fadeIn"},
        {"value": "fadeInDown",   "label": "fadeInDown"},
        {"value": "fadeInLeft",   "label": "fadeInLeft"},
        {"value": "fadeInRight",  "label": "fadeInRight"},
        {"value": "fadeInUp",   "label": "fadeInUp"},
        {"value": "bounceIn",   "label": "bounceIn"},
        {"value": "bounceInDown", "label": "bounceInDown"},
        {"value": "bounceInLeft", "label": "bounceInLeft"},
        {"value": "bounceInRight","label": "bounceInRight"},
        {"value": "bounceInUp",   "label": "bounceInUp"},
          {"value": "flipInX",    "label": "flipInX"},
        {"value": "flipInY",    "label": "flipInY"},
        {"value": "zoomIn",     "label": "zoomIn"},
        {"value": "zoomInDown",   "label": "zoomInDown"},
        {"value": "zoomInLeft",   "label": "zoomInLeft"},
        {"value": "zoomInRight",  "label": "zoomInRight"},
        {"value": "zoomInUp",   "label": "zoomInUp"}
            ],
            "default": "fadeInUp"
          },
          {
            "type": "select",
            "id": "button_effect",
            "label": "Button Effect",
            "options": [
              {"value": "fadeIn",     "label": "fadeIn"},
        {"value": "fadeInDown",   "label": "fadeInDown"},
        {"value": "fadeInLeft",   "label": "fadeInLeft"},
        {"value": "fadeInRight",  "label": "fadeInRight"},
        {"value": "fadeInUp",   "label": "fadeInUp"},
        {"value": "bounceIn",   "label": "bounceIn"},
        {"value": "bounceInDown", "label": "bounceInDown"},
        {"value": "bounceInLeft", "label": "bounceInLeft"},
        {"value": "bounceInRight","label": "bounceInRight"},
        {"value": "bounceInUp",   "label": "bounceInUp"},
          {"value": "flipInX",    "label": "flipInX"},
        {"value": "flipInY",    "label": "flipInY"},
        {"value": "zoomIn",     "label": "zoomIn"},
        {"value": "zoomInDown",   "label": "zoomInDown"},
        {"value": "zoomInLeft",   "label": "zoomInLeft"},
        {"value": "zoomInRight",  "label": "zoomInRight"},
        {"value": "zoomInUp",   "label": "zoomInUp"}
            ],
            "default": "fadeInUp"
          },
      {
            "type": "select",
            "id": "image_effect",
            "label": "Image Effect",
            "options": [
              {"value": "fadeIn",     "label": "fadeIn"},
        {"value": "fadeInDown",   "label": "fadeInDown"},
        {"value": "fadeInLeft",   "label": "fadeInLeft"},
        {"value": "fadeInRight",  "label": "fadeInRight"},
        {"value": "fadeInUp",   "label": "fadeInUp"},
        {"value": "bounceIn",   "label": "bounceIn"},
        {"value": "bounceInDown", "label": "bounceInDown"},
        {"value": "bounceInLeft", "label": "bounceInLeft"},
        {"value": "bounceInRight","label": "bounceInRight"},
        {"value": "bounceInUp",   "label": "bounceInUp"},
          {"value": "flipInX",    "label": "flipInX"},
        {"value": "flipInY",    "label": "flipInY"},
        {"value": "zoomIn",     "label": "zoomIn"},
        {"value": "zoomInDown",   "label": "zoomInDown"},
        {"value": "zoomInLeft",   "label": "zoomInLeft"},
        {"value": "zoomInRight",  "label": "zoomInRight"},
        {"value": "zoomInUp",   "label": "zoomInUp"}
            ],
            "default": "fadeInLeft"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Hero Carousel",
        "category": "Home",
        "blocks": [
          {
            "type": "slide"
          },
          {
            "type": "slide"
          }
        ]
      }
    ]
  }
{% endschema %}

<style>
  .hero-carousel {overflow: hidden; box-sizing: initial;}
  .hero-carousel .item_img {background-repeat: no-repeat; background-position: center; background-size: cover; }
  .hero-carousel .item {position: relative;}
  .hero-carousel .overlay {padding: 0 7em; display: flex; display: -webkit-flex; flex-wrap: wrap; align-items: center; position: absolute; z-index: 5; top: 0; left: 0; width: 100%; height: 100%; }
  .hero-carousel .captions {max-width: 400px;max-height: 100%;}
  .hero-carousel h1 {-webkit-animation-delay: 0.2s; animation-delay: 0.2s;}
  .hero-carousel .text {-webkit-animation-delay: 0.4s; animation-delay: 0.4s;}
  /*.hero-carousel .text p{font-size: 40px;font-weight: 700;letter-spacing: -2px;line-height: 55px;}*/
  .hero-carousel .text p{font-size: inherit;font-weight: inherit;letter-spacing: -0.05em;line-height: 1.35em;font-family:inherit;}
  .hero-carousel .btn {-webkit-animation-delay: 0.6s; animation-delay: 0.6s; margin-top: 2em;}
  .hero-carousel .slick-slide {margin: 0 !important; }
  .hero-carousel .slick-arrow {color: {{section.settings.arrow_color}}; opacity: 0; filter: alpha(opacity=0);}
  .hero-carousel .slick-arrow:hover {color: {{section.settings.arrow_hover_color}};}
  .isNotMobile .hero-carousel:hover .slick-arrow.left-arrow {opacity: 1; filter: alpha(opacity=100); left: 30px;}
  .isNotMobile .hero-carousel:hover .slick-arrow.right-arrow {opacity: 1; filter: alpha(opacity=100); right: 30px;}
  .hero-carousel .featured-img {-webkit-animation-delay: 0.8s; animation-delay: 0.8s; width: 20%; height: 100%; position: absolute; right: 10%; top: 0; background-size: contain; background-repeat: no-repeat;}
  
  #shopify-section-{{ section.id }} .hero-carousel .slick-arrow {color: {{section.settings.arrow_color}};}
  .isNotMobile #shopify-section-{{ section.id }} .hero-carousel .slick-arrow:hover {color: {{section.settings.arrow_hover_color}};}
  #shopify-section-{{ section.id }} .hero-carousel .slick-dots li button {background: {{section.settings.dots_color}}; border: 3px solid {{section.settings.dots_color}};}
  #shopify-section-{{ section.id }} .hero-carousel .slick-dots li.slick-active button {background: {{ section.settings.dots_active_color }}; border-color: {{ section.settings.dots_active_color }};}
  #shopify-section-{{ section.id }} .hero-carousel .item_img.normal {padding-top: {{section.settings.img_height}};}
  @media all and (min-width: 601px) and (max-width: 900px) {
    #shopify-section-{{ section.id }} .hero-carousel .item_img.normal {padding-top: 70%;}
  }
  @media all and (max-width: 600px) {
    #shopify-section-{{ section.id }} .hero-carousel .item_img.normal {padding-top: 120%;}
    #shopify-section-{{ section.id }} .hero-carousel .featured-img {position: static; margin: 0 auto; width: 50% !important; height: auto; padding-top: 50%;}
    .hero-carousel .overlay {text-align: center; padding: 0 2em;}
    .hero-carousel .captions {margin: 0 auto !important;}
  }
</style>

<div class="hero-carousel slick-pending {% unless section.settings.full_width %}container-big{% endunless %}">
  {% for block in section.blocks %}
      <div class="item" id="{{ block.id }}">
        {% if block.settings.link != blank %}
          <a href="{{block.settings.link}}">
        {% endif %}
            
            {% if block.settings.image != blank %}
            {% assign img_url = block.settings.image | img_url: 'master' %}
            {% else %}
            {% assign img_url = "placeholder-image.jpg" | asset_url %}
            {% endif %}

            {% if block.settings.image_sm != blank %}
            {% assign img_sm_url = block.settings.image_sm | img_url: 'master' %}
            <div class="item_img {% if section.settings.full_height %}full-height{% else %}normal{% endif %} hide medium-down--show" style="background-image: url({{ img_sm_url }});"></div>
            {% endif %}

            <div class="item_img {% if section.settings.full_height %}full-height{% else %}normal{% endif %} {% if block.settings.image_sm != blank %}medium-down--hide{% endif %}" style="background-image: url({{ img_url }});"></div>
                        
            <div class="overlay overlay-{{forloop.index}} text-{{block.settings.text_align}}" style="background-color: rgba({{block.settings.overlay_color}});">
              {% if block.settings.show_captions %}
              <div class="captions" style="{% if block.settings.text_align == "left" %}margin-right:auto;{% elsif block.settings.text_align == "right" %}margin-left:auto;{% else %}margin-left: auto; margin-right: auto;{% endif %}">
                {% if block.settings.title != "" %}
                <h1 style="color: {{block.settings.text_color}};font-family:{{block.settings.title_font}};font-weight:{{block.settings.title_font_weight}};font-size:{{block.settings.title_font_size}};font-style:{{block.settings.title_font_style}};" class="title {% if forloop.first %}animated {{block.settings.title_effect}}{% else %}invisible{% endif %}" data-effect="{{block.settings.title_effect}}" >{{ block.settings.title }}</h1>
                {% endif %}
                {% if block.settings.text != "" %}
                <div style="color: {{block.settings.text_color}};font-family:{{block.settings.text_font}};font-weight:{{block.settings.text_font_weight}};font-size:{{block.settings.text_font_size}};font-style:{{block.settings.text_font_style}};" class="text {% if forloop.first %}animated {{block.settings.text_effect}}{% else %}invisible{% endif %}" data-effect="{{block.settings.text_effect}}">{{ block.settings.text }}</div>
                {% endif %}
                {% if block.settings.button != "" %}
                <a href="{{ block.settings.link }}" class="btn {% if forloop.first %}animated {{block.settings.button_effect}}{% else %}invisible{% endif %}" data-effect="{{block.settings.button_effect}}">
                  {{ block.settings.button }}
                </a>
                {% endif %}
              </div>
              {% endif %}
              {% if block.settings.featured_image != blank %}
              <div class="featured-img {% if forloop.first %}animated {{block.settings.image_effect}}{% else %}invisible{% endif %}" data-effect="{{block.settings.image_effect}}" style="background-image: url({{ block.settings.featured_image | img_url: 'master' }}); background-position: {{block.settings.featured_image_position}}; width: {{block.settings.featured_image_width}}; right: {{block.settings.featured_image_right}}; left: {{block.settings.featured_image_left}};"></div>
              {% endif %}
            </div>
        {% if block.settings.link != blank %}
          </a>
        {% endif %}
      </div>
  {% endfor %}
</div>
<script>
  $(function(){
    {% if section.settings.full_height %}
    var updateHeight = function() {
      {% if settings.over_carousel %}
      var fullHeight = $(window).height();
      {% else %}
      var fullHeight = $(window).height() - $('#header').height();
      {% endif %}
      $('.hero-carousel .item_img.full-height').height(fullHeight);
    };
    
    updateHeight();
    
    $(window).resize(function(){
      if($(window).width() > 900){
        updateHeight();
      }
    });
    {% endif %}

    var heroCarousel = $('#shopify-section-{{ section.id }} .hero-carousel');
    heroCarousel.slick({
      {% if section.settings.autoplay %}
      autoplay: true,
      autoplaySpeed: {{section.settings.autoplay_speed}},
      {% endif %}
      dots: {% if section.settings.show_dots %}true{% else %}false{% endif %},
      arrows: {% if section.settings.show_arrows %}true{% else %}false{% endif %},
      fade: {{ section.settings.fade }},
      pauseOnHover: false,
      speed: {{section.settings.transition_speed}},
      prevArrow: '<i class="lnr lnr-chevron-left animation left-arrow"></i>',
      nextArrow: '<i class="lnr lnr-chevron-right animation right-arrow"></i>'
    });
    heroCarousel.on('beforeChange', function(event, slick, currentSlide, nextSlide){
      setTimeout(function(){
        heroCarousel.find('.slick-slide').each(function(){
          var title = $(this).find('.title');
          var text = $(this).find('.text');
          var button = $(this).find('.btn');
          var image = $(this).find('.featured-img');
          title.removeClass(title.data('effect')).removeClass('animated').addClass('invisible');
          text.removeClass(text.data('effect')).removeClass('animated').addClass('invisible');
          button.removeClass(button.data('effect')).removeClass('animated').addClass('invisible');
          image.removeClass(image.data('effect')).removeClass('animated').addClass('invisible');
        });

        var currentItem = $(slick.$slides[nextSlide]);
        currentItem.find('.title').removeClass('invisible').addClass('animated').addClass(currentItem.find('.title').data('effect'));
        currentItem.find('.text').removeClass('invisible').addClass('animated').addClass(currentItem.find('.text').data('effect'));
        currentItem.find('.btn').removeClass('invisible').addClass('animated').addClass(currentItem.find('.btn').data('effect'));
        currentItem.find('.featured-img').removeClass('invisible').addClass('animated').addClass(currentItem.find('.featured-img').data('effect'));
      }, {% if section.settings.fade == 'true' %}0{% else %}800{% endif %});
    });
    
  });
</script>